var SV=window.SV||{};SV.$=SV.$||window.jQuery||null;
(function(f){var g=SV.$;SV.attachmentHoverUi=function(b){function k(a){a=a.originalEvent.dataTransfer;if(!a.types||1!==a.types.length||"Files"!==a.types[0]||"none"===a.dropEffect)return!0;"move"===a.dropEffect&&(a.dropEffect="copy");return!1}function l(a){!k(a)&&(c++,1===c&&(a=a.originalEvent.target.closest(".fr-box")))&&(a.classList.add("dragover"),""!==h&&(a.querySelector(":scope .dropzone-hover")||XF.setupHtmlInsert(h,function(d){XF.FE?b.$wp.append(d):g(b.$wp).append(d)})))}function m(a){0!==c&&
k(a)}function n(a){0!==c&&(c--,0>=c&&e(a))}function e(a){c=0;if(a=a.originalEvent.target.closest(".fr-box")){var d=a.closest(".fr-box");d&&d.classList.remove("dragover");(a=a.querySelector(":scope .dropzone-hover"))&&a.remove()}}let c=0,h="";return{_init:function(){let a=f.querySelector(".js-attachmentDragHoverTemplate");a&&(h=a.innerHTML||"");b.events.on("dragenter",l);b.events.on("dragover",m);b.events.on("dragleave",n);b.events.on("drop",e,1);b.events.on("document.dragend",e,1);b.events.on("document.drop",
e,1)}}};if("function"!==typeof XF.on)g(f).on("editor:first-start",function(){g.FE.PLUGINS.attachmentHoverUi=SV.attachmentHoverUi});else XF.on(f,"editor:first-start",function(){XF.FE.PLUGINS.attachmentHoverUi=SV.attachmentHoverUi})})(document);
