<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Daily Puzzles - Interactive Experience</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f5f5f5;
            margin: 0;
            padding: 20px;
            line-height: 1.6;
        }
        .container {
            max-width: 1000px;
            margin: 0 auto;
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .navigation {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding: 15px;
            background: linear-gradient(45deg, #2c3e50, #34495e);
            border-radius: 8px;
            color: white;
        }
        .nav-button {
            background: #3498db;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 14px;
            transition: background 0.3s;
        }
        .nav-button:hover {
            background: #2980b9;
        }
        .nav-button:disabled {
            background: #7f8c8d;
            cursor: not-allowed;
        }
        .puzzle-counter {
            font-size: 18px;
            font-weight: bold;
        }
        .message {
            margin-bottom: 30px;
            border: 1px solid #ddd;
            border-radius: 8px;
            overflow: hidden;
        }
        .message-header {
            background: linear-gradient(180deg,rgba(62, 38, 105, 1) 50%, rgba(110, 43, 68, 1) 69%, rgba(171, 80, 62, 1) 80%, rgba(229, 128, 27, 1) 88%, rgba(255, 250, 247, 1) 100%);
            padding: 15px;
            display: flex;
            align-items: center;
            color: #FFFAF7;
        }
        .message-header.venia {
            background: linear-gradient(320deg,rgba(250, 255, 255, 1) 21%, rgba(209, 255, 250, 1) 40%, rgba(208, 242, 232, 1) 63%, rgba(204, 247, 102, 1) 75%, rgba(103, 151, 75, 1) 92%, rgba(69, 74, 60, 1) 100%);
            color: #503228;
            border: 4px solid forestgreen;
        }
        .message-header.elinthind {
            background: #f8f9fa;
            color: #333;
        }
        .avatar {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            border: 2px solid #FF6916;
            margin-right: 15px;
            background: #ccc;
        }
        .avatar.venia {
            border: 4px solid #CCF766;
            border-radius: 25%;
            box-shadow: 0px 0px 4px #503228;
        }
        .username {
            font-family: 'Arial Black', sans-serif;
            font-size: 18px;
            text-transform: uppercase;
            color: #FFFAF7;
            text-shadow: 0px 0px 4px #FF6916;
        }
        .username.venia {
            color: #FAFFFF;
            text-shadow: 0px 0px 4px #503228;
            font-family: 'Poiret One', serif;
        }
        .username.elinthind {
            color: #333;
            text-shadow: none;
            text-transform: none;
        }
        .message-content {
            padding: 20px;
        }
        .puzzle-box {
            background: linear-gradient(45deg, #1e3c72, #2a5298);
            border: 3px solid #4a90e2;
            padding: 20px;
            margin: 15px 0;
            border-radius: 10px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.3);
            color: #ecf0f1;
            text-align: center;
        }
        .result-box {
            background: #16a085;
            border: 2px solid #1abc9c;
            padding: 15px;
            margin: 10px 0;
            border-radius: 8px;
            color: #ecf0f1;
            text-align: center;
        }
        .puzzle-image {
            max-width: 100%;
            height: auto;
            border-radius: 5px;
            margin: 10px 0;
            background: #ddd;
            min-height: 200px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #666;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 10px 0;
        }
        th, td {
            border: 1px solid #34495e;
            padding: 8px;
            text-align: left;
            color: #2c3e50 !important;
            background-color: rgba(255, 255, 255, 0.9) !important;
        }
        th {
            background-color: #34495e !important;
            color: #ecf0f1 !important;
            font-weight: bold;
        }
        ul {
            text-align: left;
            margin: 10px 0;
            padding-left: 20px;
        }
        hr {
            border: none;
            height: 2px;
            background: linear-gradient(to right, transparent, #ecf0f1, transparent);
            margin: 20px 0;
        }
        .timestamp {
            color: #666;
            font-size: 12px;
            margin-bottom: 10px;
        }
        .quote-box {
            background: #f8f9fa;
            border-left: 4px solid #007bff;
            padding: 10px 15px;
            margin: 10px 0;
            border-radius: 0 5px 5px 0;
        }
        .control-buttons {
            display: flex;
            gap: 10px;
            margin: 20px 0;
            justify-content: center;
            flex-wrap: wrap;
        }
        .control-button {
            background: #e74c3c;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
            transition: all 0.3s;
        }
        .control-button:hover {
            background: #c0392b;
            transform: translateY(-2px);
        }
        .control-button.hints {
            background: #f39c12;
        }
        .control-button.hints:hover {
            background: #e67e22;
        }
        .control-button.solution {
            background: #27ae60;
        }
        .control-button.solution:hover {
            background: #229954;
        }
        .hidden {
            display: none;
        }
        .puzzle-section {
            margin-bottom: 30px;
        }
        .section-title {
            background: #34495e;
            color: white;
            padding: 10px 15px;
            margin: 20px 0 10px 0;
            border-radius: 5px;
            font-weight: bold;
        }
        .warning {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            color: #856404;
            padding: 15px;
            border-radius: 5px;
            margin: 10px 0;
            text-align: center;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="navigation">
            <button class="nav-button" id="prevBtn" onclick="previousPuzzle()">‚Üê Previous</button>
            <div class="puzzle-counter">
                <span id="puzzleCounter">Puzzle 4 of 9</span>
            </div>
            <button class="nav-button" id="nextBtn" onclick="nextPuzzle()">Next ‚Üí</button>
        </div>

        <div id="puzzle-content">
            <!-- Puzzle content will be dynamically loaded here -->
        </div>

        <div class="control-buttons">
            <button class="control-button hints" onclick="toggleHints()" id="hintsBtn">Show Hints & Comments</button>
            <button class="control-button solution" onclick="toggleSolution()" id="solutionBtn">Show Solution</button>
        </div>

        <div id="hints-section" class="puzzle-section hidden">
            <div class="section-title">üí° Hints & Comments</div>
            <div id="hints-content"></div>
        </div>

        <div id="solution-section" class="puzzle-section hidden">
            <div class="section-title">‚úÖ Solution</div>
            <div class="warning">
                <strong>‚ö†Ô∏è Spoiler Alert!</strong><br>
                Make sure you've tried solving the puzzle yourself before viewing the solution.
            </div>
            <div id="solution-content"></div>
        </div>
    </div>

    <script>
        let currentPuzzle = 0;
        let hintsVisible = false;
        let solutionVisible = false;

        const puzzles = [
            {
                id: 4,
                title: "The Candle Maker's Problem",
                content: `
                    <div class="message">
                        <div class="message-header">
                            <div class="avatar"></div>
                            <div class="username">apro</div>
                        </div>
                        <div class="message-content">
                            <div class="timestamp">Jul 26, 2025</div>
                            <div class="puzzle-box">
                                <div>After coming to an agreement, you both dart off towards the goal at once.<br>
                                Its a close call, but luckily you manage to secure the consolation prize.<br>
                                <br>
                                You quickly open the map and... Its empty!<br>
                                Well, nothing to do about that now... You stuck it in your backpack and continue moving forward.<br>
                                <br>
                                After walking on Route 12 for a while, you arrive at a crossroad.<br>
                                This wasn't here last time, did they change the path?<br>
                                You are unsure which way you are supposed to go, but thankfully you notice a familiar face standing there.<br>
                                <br>
                                Its Mr. Rhyme! I wonder what he is doing out here?<br>
                                He is willing to help you find the right path if you solve one of his favourite puzzles:</div>
                            </div>
                            <hr>
                            <div class="puzzle-box">
                                <div><strong>You start with 679 candle leftovers. From 7 leftovers, you can make 1 new candle. When customers buy your candles, they bring back the leftover wax. How many candles can you make in total?</strong></div>
                            </div>
                        </div>
                    </div>
                `,
                hints: ``,
                solution: `
                    <div class="result-box">
                        <div>You start with 679 leftovers.<br>
                        From those, you make 679/7 = 97 candles and no leftovers remain<br>
                        However, once you sold them, the customers will bring back their leftovers again!<br>
                        So you can make another 97/7 = 13 candles and will have 6 leftovers remaining<br>
                        Then, they bring back 13 leftovers. Along with the previous 6, you have 19 leftovers, enough for 2 new candles and 5 leftovers remaining<br>
                        Finally, when they bring back those two candles, you will have a total of 7 leftovers, enough for one more final candle to be crafted.<br>
                        <br>
                        So the answer is, you can make 97+13+2+1=<strong>113 candles</strong>!<br>
                        <br>
                        As a sidenote, the same number can be reached by simply dividing 679/6 =113,<br>
                        but thats not always a logically correct way to solve the puzzle as it would return 6/6=1 if you only started with 6 leftovers.
                        </div>
                    </div>
                `
            },
            {
                id: 5,
                title: "The Four Vehicles",
                content: `
                    <div class="message">
                        <div class="message-header">
                            <div class="avatar"></div>
                            <div class="username">apro</div>
                        </div>
                        <div class="message-content">
                            <div class="timestamp">Jul 26, 2025</div>
                            <div class="puzzle-box">
                                <div>There are four different type of vehicles traveling in the ocean exactly 500 meters apart from eachother.<br>
                                At the front is a luxury yacht. On the left side an old sailboat. On the right a large steamboat.<br>
                                <div class="puzzle-image">[Image: Boats diagram showing yacht, sailboat, and steamboat positions]</div>
                                </div>
                            </div>
                            <hr>
                            <div class="puzzle-box">
                                <div><strong>What is the fourth vehicle?</strong></div>
                            </div>
                        </div>
                    </div>
                `,
                hints: `
                    <div class="message">
                        <div class="message-header elinthind">
                            <div class="avatar"></div>
                            <div class="username elinthind">elinthind</div>
                        </div>
                        <div class="message-content">
                            <div class="timestamp">Jul 27, 2025</div>
                            <div>Also, when you say "500 meters apart" in the vehicle puzzle--does that mean each vehicle is at least 500 meters away from the others in each direction? Is the image to scale, or is it just for flavor?<br><br>thanks!</div>
                        </div>
                    </div>
                    <div class="message">
                        <div class="message-header">
                            <div class="avatar"></div>
                            <div class="username">apro</div>
                        </div>
                        <div class="message-content">
                            <div class="timestamp">Jul 27, 2025</div>
                            <div class="quote-box">
                                <strong>elinthind said:</strong><br>
                                Also, when you say "500 meters apart" in the vehicle puzzle--does that mean each vehicle is at least 500 meters away from the others in each direction? Is the image to scale, or is it just for flavor?<br><br>thanks!
                            </div>
                            <div>The image for the ships is meant to be accurate, however it was not measured so it could be off by a few cms. If you used a ruler to determine that the 3 boats on the image are not equidistant than thats just slight drawing error.</div>
                        </div>
                    </div>
                `,
                solution: `
                    <div class="result-box">
                        <div>As for the solution, 4 objects can only be of equal distance from eachother if they are placed into the corners of a pyramid shape.<br>
                        This means, that the last vehicle must be either above or below the sea level.<br>
                        Since it was specified that they are <i>in</i> the sea, the correct solution is a <strong>submarine</strong>!<br>
                        I'd like to congratulate to Venia Silente for deducting that it may be a <i>nuclear</i> submarine<br>
                        at that given that all vehicles are using a different power source.<br>
                        This was not a neccessary part of the solution though.</div>
                    </div>
                `
            },
            {
                id: 6,
                title: "The Hippo Race Dilemma",
                content: `
                    <div class="message">
                        <div class="message-header">
                            <div class="avatar"></div>
                            <div class="username">apro</div>
                        </div>
                        <div class="message-content">
                            <div class="timestamp">Jul 27, 2025</div>
                            <div class="puzzle-box">
                                <div>You and a competitor each own a hippo and decide to race.<br>
                                The winner gets the main prize, but the loser gets a consolation prize.<br>
                                However, both of you actually want the consolation prize more than the main prize!<br>
                                Neither of you wants to share the prize or deliberately lose in an obvious way.<br>
                                <br>
                                <strong>How can you ensure you get the consolation prize in a fair race?</strong></div>
                            </div>
                        </div>
                    </div>
                `,
                hints: `
                    <div class="message">
                        <div class="message-header elinthind">
                            <div class="avatar"></div>
                            <div class="username elinthind">elinthind</div>
                        </div>
                        <div class="message-content">
                            <div class="timestamp">Jul 27, 2025</div>
                            <div>Could you clarify what is meant by a "fair" race in the hippo puzzle?<br><br>thanks!</div>
                        </div>
                    </div>
                    <div class="message">
                        <div class="message-header">
                            <div class="avatar"></div>
                            <div class="username">apro</div>
                        </div>
                        <div class="message-content">
                            <div class="timestamp">Jul 27, 2025</div>
                            <div class="quote-box">
                                <strong>elinthind said:</strong><br>
                                Could you clarify what is meant by a "fair" race in the hippo puzzle?<br><br>thanks!
                            </div>
                            <div>Fair as in both of you following the rules set by the competition and any additional rules you may agree upon. They think of predeciding the looser and then sharing the prize as unfair.</div>
                        </div>
                    </div>
                `,
                solution: `
                    <div class="result-box">
                        <div>Nobody liked the Hippos :(<br>
                        Got very few submissions, but unfortunately one of them was correct so no hints are given...<br>
                        This was a vague puzzle too where I might've accepted alternative solutions...<br>
                        Unfortunately not Dogparty's though, as it was stated in the puzzle that they don't wish to share the prize.<br>
                        <br>
                        The solution should be to simply <strong>swap Hippos</strong> (or tickets, whichever you find easier).<br>
                        By using eachother's Hippos, the consolation prize will actually go to the winner rather than the looser.<br>
                        <br>
                        As Elinthind pointed out, this does assume that both racers play fairly and do reach the goal though,<br>
                        so if somebody play unfairly, then the first person reaching the goal would still have to<br>
                        go back to drag their own Hippo to the goal as well.</div>
                    </div>
                `
            },
            {
                id: 7,
                title: "The Cave Passage",
                content: `
                    <div class="message">
                        <div class="message-header">
                            <div class="avatar"></div>
                            <div class="username">apro</div>
                        </div>
                        <div class="message-content">
                            <div class="timestamp">Jul 27, 2025</div>
                            <div class="puzzle-box">
                                <div>You manage to arrive to Shalour City safely and take a short rest at the inn.<br>
                                The following morning as you approach the cave, you notice a small crowd in front of it:<br>
                                <br>
                                You learn that there was a cave-in at the passage, making it significantly more difficult to get through<br>
                                and the sunlight that used to seep through the ceiling is blocked.<br>
                                The Hiker has a lamp, but no candles left and don't want to walk back to Lumiosa City for the nearest candle shop<br>
                                so they ask you for their help:</div>
                            </div>
                            <hr>
                            <div class="puzzle-box">
                                <div>Due to the passage becoming thinner, and under the dim light of the candle, only 2 people may pass at a time.<br>
                                The Hiker, having experience, can pass the cave in 1 hour.<br>
                                The Psychic, as a regular person would take 2 hours.<br>
                                The Socialite may be old but healthy. Needs 4 hours to pass.<br>
                                Mr. Rhyme, due to his bad leg, requires 5 hours.<br>
                                <div class="puzzle-image">[Image: Cave entrance with four people waiting]</div>
                                </div>
                            </div>
                            <hr>
                            <div class="puzzle-box">
                                <div><strong>If a candle burns for 1 hour, how many candles do you need to lend<br>
                                so that all of them can pass while you go to explore the deeper parts of the cave?</strong></div>
                            </div>
                        </div>
                    </div>
                `,
                hints: `
                    <div class="message">
                        <div class="message-header elinthind">
                            <div class="avatar"></div>
                            <div class="username elinthind">elinthind</div>
                        </div>
                        <div class="message-content">
                            <div class="timestamp">Jul 27, 2025</div>
                            <div>Hi! Looking for a bit of clarification on this question:<br>
                            Do the travelers need to find a way to always have access to the lamp, or is simply having a candle fine?<br>
                            Are the travelers fine with traveling at a slower pace?<br>
                            Does the "only 2 people can pass at a time" mean that a candle can be shared between a maximum of two people? (I'm assuming so, but you know what they say about assumptions)<br>
                            Is it alright if more than one "bunch" of people passes through the cave at once, if each group has their own candle? Assuming the first group is farther ahead than the second. And, if so, is there enough room in the cave for people to switch between groups?<br>
                            <br>
                            Or, does having one candle in the cave count as having the whole "cave" being lit, and only 2 people can be in the cave at one time?</div>
                        </div>
                    </div>
                    <div class="message">
                        <div class="message-header">
                            <div class="avatar"></div>
                            <div class="username">apro</div>
                        </div>
                        <div class="message-content">
                            <div class="timestamp">Jul 27, 2025</div>
                            <div class="quote-box">
                                <strong>elinthind said:</strong><br>
                                Hi! Looking for a bit of clarification on this question:...
                            </div>
                            <div>They may not hold the candle in their hands as it is too hot, nor in any flammable material.<br>
                            A traveler cannot move forward in darkness.<br>
                            The lamp (candlelight) only provides enough light for two people at a time.<br>
                            When people move as a group, they move at the pace of the slowest member of that group.</div>
                        </div>
                    </div>
                `,
                solution: `
                    <div class="result-box">
                        <div>Traditionally, this puzzle is solved by having the travelers pass in groups of two,<br>
                        and somebody repeatedly coming back with the lamp to pick up another person.<br>
                        However, if you knew the puzzle, it was easy to get it wrongly,<br>
                        because this time it had a slight twist!<br>
                        <br>
                        The Psychic, as shown in the image, can <strong>levitate small objects</strong> the size of a candle.<br>
                        Assuming they can do so for 2 hours straight, two groups may try to pass simultaneously,<br>
                        and they'd only need <strong>7 candles</strong>!</div>
                    </div>
                `
            },
            {
                id: 8,
                title: "The Cave Map",
                content: `
                    <div class="message">
                        <div class="message-header">
                            <div class="avatar"></div>
                            <div class="username">apro</div>
                        </div>
                        <div class="message-content">
                            <div class="timestamp">Monday at 7:01 PM</div>
                            <div class="puzzle-box">
                                <div>As you reach into your backpack for a stack of candles for the group, the map falls out your bag.<br>
                                As you pick it up, you notice a weird reflection in a smooth rock near the entrance.<br>
                                Its a map of the cave!</div>
                            </div>
                            <hr>
                            <div class="puzzle-box">
                                <div>As you suspected, the map never was empty, but there was a slight trick to it:<br>
                                It was written with special ink only visible in the strange mirror-like rocks of Reflection Cave!<br>
                                <div class="puzzle-image">[Image: Cave map with numbered paths and connections]</div>
                                </div>
                            </div>
                            <hr>
                            <div class="puzzle-box">
                                <div>It looks like there may be multiple paths leading to the tree you seek,<br>
                                however you dont have a large enough stock of candles to roam freely,<br/>
                                <strong>can you find the fastest path to the hidden groove?</strong></div>
                            </div>
                        </div>
                    </div>
                `,
                hints: `
                    <div class="message">
                        <div class="message-header venia">
                            <div class="avatar venia"></div>
                            <div class="username venia">Venia Silente</div>
                        </div>
                        <div class="message-content">
                            <div class="timestamp">Monday at 7:19 PM</div>
                            <div>A bit of clarification on the map:<br><br>
                            What do the numbers represent? Cost in candles to reach each spot? Speed limit? (hey, safety in caves is important!)</div>
                        </div>
                    </div>
                    <div class="message">
                        <div class="message-header">
                            <div class="avatar"></div>
                            <div class="username">apro</div>
                        </div>
                        <div class="message-content">
                            <div class="timestamp">Monday at 8:29 PM</div>
                            <div class="quote-box">
                                <strong>Venia Silente said:</strong><br>
                                A bit of clarification on the map:<br><br>
                                What do the numbers represent? Cost in candles to reach each spot? Speed limit? (hey, safety in caves is important!)
                            </div>
                            <div>The time (or distance) needed to get there from a previous number. You may interpret the puzzle as finding a path with the smallest sum of the numbers on that path</div>
                        </div>
                    </div>
                    <div class="message">
                        <div class="message-header elinthind">
                            <div class="avatar"></div>
                            <div class="username elinthind">elinthind</div>
                        </div>
                        <div class="message-content">
                            <div class="timestamp">Monday at 11:29 PM</div>
                            <div>what is the little symbol at the bottom right of the map? Is that our location?<br>
                            (I assumed so but i have learned to be wary of my assumptions here lol)</div>
                        </div>
                    </div>
                `,
                solution: `
                    <div class="result-box">
                        <div>Solving the map was surprisingly simply, almost as if I sent the wrong image,<br>
                        regardless, all submissions turned out to be correct...<br>
                        I also forgot to specify that you cannot go around the cave, so while its not the intended solution,<br>
                        I'll have to accept that too. Nobody submitted both however, so the achievement for<br>
                        two correct solutions submitted remains unclaimed.<br>
                        <br>
                        Earlier, somebody asked what the symbol at the bottom is. I did not answer this question,<br>
                        because the puzzle provides enough details to figure it out and it is in fact a key part<br>
                        of the puzzle - even if it was trivial to most participants.<br>
                        To those who havent played the newer generation games: This is the in-game sprite of the<br>
                        Shalour Sable, a local delicacy sold only in Shalour City and is merely a symbol<br>
                        representing the settlement. You do not need to turn around and start the map at the Tower of Mastery.<br>
                        <div class="puzzle-image">[Image: Map solution showing the optimal path]</div>
                        </div>
                    </div>
                `
            },
            {
                id: 9,
                title: "The Ancient Lock",
                content: `
                    <div class="message">
                        <div class="message-header">
                            <div class="avatar"></div>
                            <div class="username">apro</div>
                        </div>
                        <div class="message-content">
                            <div class="timestamp">Wednesday at 7:03 PM</div>
                            <div class="puzzle-box">
                                <div>You follow the map's instructions and eventually reach a large builder with a smooth surface.<br>
                                Somebody has drawn strange symbols on the rocks. Upon closer inspection, these appear to be buttons!</div>
                            </div>
                            <hr>
                            <div class="puzzle-box">
                                <div>You press one to see what happens, but it jumps right back into position and nothing happens, there must be some sort of code to enter...<br>
                                <div class="puzzle-image">[Image: Lock with buttons arranged in a pattern with letters U, D, L, R and numbers]</div>
                                </div>
                            </div>
                            <hr>
                            <div class="puzzle-box">
                                <div><strong>Send me which buttons you press and in what order!</strong></div>
                            </div>
                        </div>
                    </div>
                `,
                hints: ``,
                solution: `
                    <div class="result-box">
                        <div>The letter in the puzzle represent a direction: Up, Down, Left, Right.<br>
                        Each button has to be pressed once, finishing with the middle button<br>
                        If you figured this out, you can simply add the number of steps<br>
                        that need to be taken in every direction:<br>
                        7 Left, 9 Right, 18 Down,17 Up<br>
                        So you need to start <strong>2 steps to the left and 1 step up from the middle button</strong>.</div>
                    </div>
                `
            },
            {
                id: 10,
                title: "The Guardian Dog",
                content: `
                    <div class="message">
                        <div class="message-header">
                            <div class="avatar"></div>
                            <div class="username">apro</div>
                        </div>
                        <div class="message-content">
                            <div class="timestamp">Wednesday at 7:03 PM</div>
                            <div class="puzzle-box">
                                <div>You crack the code open and an ancient door slowly creaks open,<br>
                                revealing a long, narrow passage leading further up the mountain.<br>
                                You walk for another half an hour or so before seeing the light at the end of the tunnel.<br>
                                Finally, you step out into the meadow and find yourself on a cliffside.<br>
                                In the middle, you spot the tree from the rumours!<br>
                                However, someone has already been here before you!</div>
                            </div>
                            <hr>
                            <div class="puzzle-box">
                                <div>Tied to its trunk is a Pok√©mon the previous visitor has left behind for protection.<br>
                                It seems to be in great condition despite seemingly being alone, with food and water provided<br>
                                for it in two bowls below the tree as well. Couldn't have been stuck there for more than an hour.<br>
                                Perhaps its owner is still nearby or planning to return shortly.<br>
                                Either way, you don't wish to wait for their return, just grab some fruits and head back home.<br>
                                However, the dog was clearly placed here with a mission. Anywhere you go it'll try to follow<br>
                                and if you get within range it'll attack immediately.<br>
                                <div class="puzzle-image">[Image: Guard dog tied to tree with food and water bowls]</div>
                                </div>
                            </div>
                            <hr>
                            <div class="puzzle-box">
                                <div><strong>How can you get to the fruits safely?</strong></div>
                            </div>
                            <hr>
                            <div class="puzzle-box">
                                <div><span style="font-size: 18px">List of available items:</span><br>
                                <ul>
                                    <li>a worn-out backpack</li>
                                    <li>sleeping bag</li>
                                    <li>knife</li>
                                    <li>pickaxe</li>
                                    <li>helmet</li>
                                    <li>raincoat</li>
                                    <li>30 meters of rope</li>
                                    <li>lamp</li>
                                    <li>one last candle</li>
                                    <li>a sandwitch</li>
                                    <li>water bottle (almost empty)</li>
                                    <li>map of the cave</li>
                                </ul></div>
                            </div>
                        </div>
                    </div>
                `,
                hints: ``,
                solution: `
                    <div class="result-box">
                        <div>This puzzle has multiple potential solutions, but the most elegant one involves using the available items creatively:<br><br>
                        
                        <strong>Solution 1:</strong> Use the <strong>sandwich</strong> to distract the dog. Since it has been guarding for a while, it might be hungry despite having food bowls. Throw the sandwich away from the tree to lure the dog as far as its rope allows, then quickly collect the fruits.<br><br>
                        
                        <strong>Solution 2:</strong> Use the <strong>rope</strong> to create a lasso or snare from a safe distance to pull down fruit-bearing branches without getting close to the dog.<br><br>
                        
                        <strong>Solution 3:</strong> Since the dog has been there for "no more than an hour" and seems well-cared for, you could simply <strong>wait</strong> for the owner to return, as they're likely nearby and will return soon.<br><br>
                        
                        The puzzle tests creative problem-solving and attention to the details provided about the dog's situation.</div>
                    </div>
                `
            }
        ];

        function loadPuzzle(index) {
            const puzzle = puzzles[index];
            document.getElementById('puzzle-content').innerHTML = puzzle.content;
            document.getElementById('hints-content').innerHTML = puzzle.hints;
            document.getElementById('solution-content').innerHTML = puzzle.solution;
            document.getElementById('puzzleCounter').textContent = `Puzzle ${puzzle.id} of ${puzzles[puzzles.length - 1].id}`;
            
            // Update navigation buttons
            document.getElementById('prevBtn').disabled = index === 0;
            document.getElementById('nextBtn').disabled = index === puzzles.length - 1;
            
            // Reset visibility
            hideHints();
            hideSolution();
            
            // Update hints button visibility
            const hintsBtn = document.getElementById('hintsBtn');
            if (puzzle.hints.trim() === '') {
                hintsBtn.style.display = 'none';
            } else {
                hintsBtn.style.display = 'inline-block';
            }
        }

        function nextPuzzle() {
            if (currentPuzzle < puzzles.length - 1) {
                currentPuzzle++;
                loadPuzzle(currentPuzzle);
            }
        }

        function previousPuzzle() {
            if (currentPuzzle > 0) {
                currentPuzzle--;
                loadPuzzle(currentPuzzle);
            }
        }

        function toggleHints() {
            const hintsSection = document.getElementById('hints-section');
            const hintsBtn = document.getElementById('hintsBtn');
            
            if (hintsVisible) {
                hideHints();
            } else {
                showHints();
            }
        }

        function showHints() {
            const hintsSection = document.getElementById('hints-section');
            const hintsBtn = document.getElementById('hintsBtn');
            
            hintsSection.classList.remove('hidden');
            hintsBtn.textContent = 'Hide Hints & Comments';
            hintsVisible = true;
        }

        function hideHints() {
            const hintsSection = document.getElementById('hints-section');
            const hintsBtn = document.getElementById('hintsBtn');
            
            hintsSection.classList.add('hidden');
            hintsBtn.textContent = 'Show Hints & Comments';
            hintsVisible = false;
        }

        function toggleSolution() {
            const solutionSection = document.getElementById('solution-section');
            const solutionBtn = document.getElementById('solutionBtn');
            
            if (solutionVisible) {
                hideSolution();
            } else {
                showSolution();
            }
        }

        function showSolution() {
            const solutionSection = document.getElementById('solution-section');
            const solutionBtn = document.getElementById('solutionBtn');
            
            solutionSection.classList.remove('hidden');
            solutionBtn.textContent = 'Hide Solution';
            solutionVisible = true;
        }

        function hideSolution() {
            const solutionSection = document.getElementById('solution-section');
            const solutionBtn = document.getElementById('solutionBtn');
            
            solutionSection.classList.add('hidden');
            solutionBtn.textContent = 'Show Solution';
            solutionVisible = false;
        }

        // Keyboard navigation
        document.addEventListener('keydown', function(event) {
            if (event.key === 'ArrowLeft' && currentPuzzle > 0) {
                previousPuzzle();
            } else if (event.key === 'ArrowRight' && currentPuzzle < puzzles.length - 1) {
                nextPuzzle();
            } else if (event.key === 'h' || event.key === 'H') {
                const hintsBtn = document.getElementById('hintsBtn');
                if (hintsBtn.style.display !== 'none') {
                    toggleHints();
                }
            } else if (event.key === 's' || event.key === 'S') {
                toggleSolution();
            }
        });

        // Initialize the first puzzle
        loadPuzzle(currentPuzzle);
    </script>
</body>
</html>